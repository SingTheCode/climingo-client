---
inclusion: always
---

# Steering 폴더 관리 가이드

이 파일은 `.kiro/steering` 폴더의 구조와 업데이트 규칙을 정의합니다.

## 현재 파일 구조

| 파일명 | 역할 | 주요 내용 |
|--------|------|-----------|
| `_steering-guide.md` | 메타 가이드 | steering 폴더 관리 규칙 |
| `architecture.md` | 아키텍처 규칙 | Headless Compound 패턴, 도메인 주도 구조 |
| `development-guide.md` | 개발 가이드 | 코드 리뷰, 디버깅, TDD 워크플로우 |
| `testing.md` | 테스트 규칙 | TDD 사이클, 테스트 작성 규칙 |
| `git-conventions.md` | Git 컨벤션 | 커밋 메시지, 브랜치 명명 규칙 |
| `security.md` | 보안 규칙 | 보안 개발 가이드라인 |
| `response-format.md` | 답변 형식 규칙 | AI 어시스턴트 기본 답변 형식 |
| `code-review.md` | 코드 리뷰 | 브랜치 간 코드리뷰 프로세스 |

## 업데이트 요청 처리 규칙

### 1. 관련 파일 찾기

업데이트 요청 시 다음 매핑 테이블을 참고하여 관련 파일을 찾습니다:

| 키워드 | 대상 파일 |
|--------|-----------|
| TDD, 테스트, 단위 테스트, 통합 테스트, E2E | `testing.md` |
| 아키텍처, 레이어, Headless, Compound, 의존성, 구조, 도메인 | `architecture.md` |
| 커밋, 브랜치, Git, 버전 관리 | `git-conventions.md` |
| 보안, 인증, 권한, XSS, CSRF | `security.md` |
| 코드 리뷰, 디버깅, 개발 프로세스, 워크플로우 | `development-guide.md` |
| 답변 형식, 커뮤니케이션, AI 응답, TODO 형식 | `response-format.md` |
| 브랜치 간 코드리뷰, 변경사항 확인 | `code-review.md` |

### 2. 파일 업데이트 기준

- **추가**: 관련 섹션에 내용 추가 (파일 길이 < 300줄)
- **분리**: 파일 길이 > 300줄이면 관련 내용을 새 파일로 추출
- **생성**: 기존 파일과 관련 없는 새로운 주제면 새 파일 생성

### 3. 파일 분리 기준

파일이 300줄을 초과하면 다음 기준으로 분리:

```
원본 파일: architecture.md (350줄)
→ 분리: headless-compound-pattern.md (Headless Compound 관련 내용만)
→ 유지: architecture.md (나머지 내용)
```

**분리 시 명명 규칙**:
- 원본 파일의 하위 주제를 파일명으로 사용
- 케밥 케이스 사용 (예: `tdd-workflow.md`)
- 원본 파일에 분리된 파일 링크 추가

### 4. 새 파일 생성 규칙

**파일명 규칙**:
- 소문자 사용
- 단어 구분은 하이픈(`-`) 사용
- 명확하고 간결한 이름

**파일 구조**:
```markdown
---
inclusion: always  # 또는 fileMatch
---

# 파일 제목

## 섹션 1
내용...

## 섹션 2
내용...
```

## 업데이트 워크플로우

1. **요청 분석**: 업데이트 내용의 주제 파악
2. **파일 탐색**: 매핑 테이블로 관련 파일 찾기
3. **길이 확인**: 대상 파일 줄 수 확인
4. **업데이트 실행**:
   - 300줄 미만: 기존 파일에 추가
   - 300줄 이상: 내용 분리 후 새 파일 생성
   - 관련 없음: 새 파일 생성
5. **검증**: 업데이트 내용이 명확하고 일관성 있는지 확인

## 예시

### 예시 1: 기존 파일 업데이트
```
요청: "TDD에서 Mock 사용 규칙 추가해줘"
→ 파일: testing.md (현재 200줄)
→ 액션: testing.md에 "Mock 사용 규칙" 섹션 추가
```

### 예시 2: 파일 분리
```
요청: "성능 최적화 가이드 추가해줘"
→ 파일: development-guide.md (현재 320줄)
→ 액션: performance.md 새로 생성, development-guide.md에 링크 추가
```

### 예시 3: 새 파일 생성
```
요청: "API 설계 가이드 추가해줘"
→ 파일: 관련 파일 없음
→ 액션: api-design.md 새로 생성
```

## 유지보수 원칙

- **단일 책임**: 각 파일은 하나의 주제만 다룸
- **명확성**: 파일명과 내용이 일치
- **간결성**: 불필요한 중복 제거
- **일관성**: 모든 파일이 동일한 구조와 스타일 유지
